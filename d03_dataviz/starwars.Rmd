# Visualizing categorical data

---

  ## Bar plots

  ```{r out.width="80%"}
ggplot(data = starwars, mapping = aes(x = gender)) +
  geom_bar()
```

---

  ## Segmented bar plots, counts

  ```{r out.width="80%"}
ggplot(data = starwars, mapping = aes(x = gender, fill = hair_color)) +
  geom_bar()
```

---

  ## Recode hair color

  ```{r}
starwars <- starwars %>%
  mutate(hair_color2 =
           fct_other(hair_color,
                     keep = c("black", "brown", "brown", "blond")
           )
  )
```

---

  ## Segmented bar plots, counts

  ```{r out.width="70%"}
ggplot(data = starwars,
       mapping = aes(x = gender, fill = hair_color2)) +
  geom_bar() +
  coord_flip()
```

---

  ## Segmented bar plots, proportions

  ```{r out.width="70%"}
ggplot(data = starwars,
       mapping = aes(x = gender, fill = hair_color2)) +
  geom_bar(position = "fill") +
  coord_flip()
labs(y = "proportion")
```

---

  .question[
    Which bar plot is a more useful representation for visualizing the relationship between gender and hair color?
  ]

```{r echo=FALSE, out.width="50%"}
ggplot(data = starwars, mapping = aes(x = gender, fill = hair_color2)) +
  geom_bar() +
  coord_flip()
```

```{r echo=FALSE, out.width="50%"}
ggplot(data = starwars, mapping = aes(x = gender, fill = hair_color2)) +
  geom_bar(position = "fill") +
  coord_flip() +
  labs(y = "proportion")
```

---

  .your-turn[

    Time to actually play around with the Star Wars dataset!

      - Go to class git repo ([github.com/DataScience4Psych](https://github.com/DataScience4Psych)) and start `AE 03 - StarWars + Data visualization`.
    - Open the R Markdown document and complete the exercise (and if time allows, the stretch goal exercise).]

---
  class: middle

# Wrapping Up...

---